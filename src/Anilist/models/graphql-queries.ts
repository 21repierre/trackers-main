
export interface GraphQLQuery {
    query: string
    variables?: Record<string, unknown>
}

export const userProfileQuery = (): GraphQLQuery => ({
    query: `{
        Viewer {
            id
            name
            mediaListOptions {
                scoreFormat
            }
            siteUrl
        }
    }`
})

export const searchMangaQuery = (page: number, search: string): GraphQLQuery => ({
    query:  `query($page: Int, $search: String) {
        Page(page: $page) {
            pageInfo {
                currentPage
                hasNextPage
            }
            media(type: MANGA, search: $search) {
                id
                title {
                    userPreferred
                }
                coverImage {
                    large
                }
            }
        }
    }`,
    variables: {
        page,
        search
    }
})

export const getMangaQuery = (id: number): GraphQLQuery => ({
    query: `query($id: Int){
        Media(id: $id){
            id
            description(asHtml: false)
            title {
                romaji
                english
                native
            }
            coverImage{
                extraLarge
            }
            bannerImage
            averageScore
            isAdult
            popularity
            characters(sort: RELEVANCE, perPage: 25) {
                edges {
                    node {
                        image {
                            large
                        }
                        age
                    }
                    name
                    role
                }
            }
            staff {
                edges {
                    node {
                        name {
                            full
                        }
                        image {
                            large
                        }
                    }
                    role
                }
            }
            status
        }
    }`,
    variables: {
        id
    }
})